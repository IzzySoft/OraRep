<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
	<title>OraRep Dokumentation: Configuration</title>
    <meta name="Author" content="Andreas Itzchak Rehberg (devel@izzysoft.de)">
    <meta name="Description" content="OraRep Documentation: Configuration">
    <meta name="Keywords" content="Oracle, Report, Documentation">
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
    <link rel="stylesheet" type="text/css" href="main.css">
</head>
<body>
<table align="center" width="95%" border="0">
 <tr><th>Configuration</th></tr>
 <tr><td class="text">
  Since the configuration file is executed as a shell script, we have to stick to
  Shell rules here - i.e., no spaces left or right to the equal sign: the syntax
  is strictly "<code>var=value</code>". Do not ever remove or comment out any
  configuration lines, even if you want to use OraRep's defaults, since this may
  lead to misbehaviour. The script relies on the settings are made in the config
  file.
 </td></tr>
 <tr><th class="th_sub"><a name="required"></a>Required Settings</th></tr>
 <tr><td class="text">
  The configuration shipped with OraRep already contains useful default values
  for most settings.  However, there are some values the developer cannot know
  or set up to auto-run on every system, such as usernames, passwords, the
  database name or the target directory to store the reports in. So these are
  the minimum of settings you have to make in order for OraRep to run properly:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Database Information</td></tr>
   <tr><td class="td_name"><code>ORACLE_SID</code></td>
       <td class="text">As already known from the Oracle setup, the <code>ORACLE_SID</code>
           is the Service IDentifier for a given database instance. In the
           context of OraRep, the SID is additionally used to generate the
           file names for the database report files, which will be called
           <CODE>&lt;ORACLE_SID&gt;.html</CODE>. If you did not specify a
           separate <i>connection string</i> (see the command line parameter "-c"
           in the <a href="usage.html#cmdline">Usage</a> section of this
           documentation), this value is also used to connect to the database.</td></tr>
   <tr><td class="td_name"><code>user</code></td>
       <td class="text" rowspan="2">The user and password to connect to the
           database. Although you may override these settings using the command
           line parameters "-u" and "-p", this is not recommended for the password
           on manual calls, since the entire command line can be made visible by
           any user e.g. with the <code>ps</code> command, and thus the password
           can be sniffed. So better specify it inside the script and protect the
           file against unauthorized access. If you need different user/password
           combinations, the recommendation is to use different config files,
           which you then can specify on the command line using the "-c" switch.</td></tr>
   <tr><td class="td_name"><code>password</code></td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Files and Directories</td></tr>
   <tr><td class="td_name"><code>TMPDIR</code></td>
       <td class="text">Directory to place temporary files into (these files will
           be removed at the end of the run of the script). The default setting,
           <code>/tmp</code>, should be fine for most systems. Just ensure that
           the <code>/tmp</code> directory is available on your system ;-)</td></tr>
   <tr><td class="td_name"><code>REPDIR</code></td>
       <td class="text">The directory where the reports (HTML) should be written
           to. Below this directory you created the "help" directory when
           following the installation instructions supplied with this documentation.</td></tr>
   <tr><td class="td_name"><code>CSS</code></td>
       <td class="text">Name of the StyleSheet the HTML reports should use, with
           relative path (if any). An example StyleSheet file, containing all
           classes needed/used by OraRep, is provided in the <code>reports/</code>
           directory of the archive.</td></tr>
  </table>
 </td></tr>
 <tr><th class="th_sub"><a name="opt"></a>Optional Settings</th></tr>
 <tr><td class="text">
  Once you are familiar with the reports generated by OraRep, you may want to
  fine-tune it a bit to better suit your requirements. For this issue, the
  config file provides some more settings which are to be explained here:
 </td></tr>
 <tr><td class="text">
  <table align="center" width="95%">
   <tr><th class="th_sub2">Variable</th><th class="th_sub2">Explanation</th></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Warnings</td></tr>
   <tr><td class="td_name"><code>TPH_NOLOG</code></td>
       <td class="text">OraRep will issue a warning (yellow table cell background)
           when there was no log file available (e.g. the "<code>log file switch(*)</code>"
           event) more often per hour than specified by this value. The value
           specified here should be low, since on the specified events all
           <code>COMMIT</code>s wait until the event is done. See online help
           on these events for details.</td></tr>
   <tr><td class="td_name"><code>WPH_NOLOG</code></td>
       <td class="text">Similiar to the idea of <code>TPH_NOLOG</code> above,
           this value is not used for timeouts but for the total waits. I.e.,
           the value specified here should be higher than the one above.</td></tr>
   <tr><td class="td_name"><code>WR_BUFF</code></td>
       <td class="text" ROWSPAN="2">Issue a warning when the Buffer Pool Ratio
           (see "Buffer Pool Statistics" section of the report) exceed the
           <code>WR_BUFF</code>, and an alert if it exceeds the <code>AR_BUFF</code>
           value.</td></tr>
   <tr><td class="td_name"><code>AR_BUFF</code></td></tr>
   <tr><td class="td_name"><code>WR_FILEUSED</code></td>
       <td class="text" ROWSPAN="2">For a datafile having <code>auto extend</code>
           turned off, issue a warning when more than <code>WR_FILEUSED</code> %
           and an alert when more than <code>AR_FILEUSED</code> % of the file are
           in use (see the "Data Files" section of the report).</td></tr>
   <tr><td class="td_name"><code>AR_FILEUSED</code></td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">SQL</td></tr>
   <tr><td class="td_name"><code>TOP_N_WAITS</code></td>
       <td class="text" rowspan="2">How many items to list up in the "Top N"
           blocks of the report for Wait objects and tables (the latter in the
           Miscellaneous block at the end of the report)</td></tr>
   <tr><td class="td_name"><code>TOP_N_TABLES</code></td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Features</td></tr>
   <tr><td class="td_name"><code>MK_USER</code></td>
       <td class="text">The "User Information" segment consists of two tables:
           while one lists up all users on the instance together with their
           account information, default tablespaces, profiles and initial
           resource group, a second table lists up all users that have admin
           privileges. This second table can be important for security checks.</td></tr>
   <tr><td class="td_name"><code>MK_DBLINK</code></td>
       <td class="text">Whether to display all DBLinks and to check their status.</td></tr>
   <tr><td class="td_name"><code>MK_RSRC</code></td>
       <td class="text">Resource plans are a useful feature or Oracle to manage
           your resources - e.g. to insure that administrators will gain the
           needed resources such as CPU even when the database is under high
           load. However, if you do not make use of these, you probably don't
           want to read reports on this topic (i.e. what roles exist and what
           rules apply to them), so you may disable it by setting the value to
           zero (default). The initial resource group for each user is nevertheless
           displayed in the "User Information" block.</td></tr>
   <tr><td class="td_name"><code>MK_TSQUOT</code></td>
       <td class="text">Whether to display all TableSpace quotas (default: 1,
           display quotas).</td></tr>
   <tr><td class="td_name"><code>MK_DBAPROF</code></td>
       <td class="text">A user's profile limits database usage and instance
           resources. The report lists available profiles with their settings
           concerning resources and limits in this block. If you don't use
           profiles, or do not want to report on them, you may disable it here.</td></tr>
   <tr><td class="td_name"><code>MK_INSTEFF</code></td>
       <td class="text">The "Instance Efficiency Percentages" provide an overview
           of some important ratios, such as "Buffer HitRatio", "Library HiRatio"
           and "In-Memory Sort" and should normally be included with the report.</td></tr>
   <tr><td class="td_name"><code>MK_LOADPROF</code></td>
       <td class="text">The LoadProfile shows some throughput information on a per
           second and per transaction base.</td></tr>
   <tr><td class="td_name"><code>MK_TABS</code></td>
       <td class="text">Generate basic table statistics</td></tr>
   <tr><td class="td_name"><code>MK_FILES</code></td>
       <td class="text">Whether to report on the data files of the instances</td></tr>
   <tr><td class="td_name"><code>MK_DBWR</code></td>
       <td class="text" rowspan="2">Here you define whether you want to include (1)
           the DBWriter/LogWriter statistics in your report or not (0). These statistics
           may help you if you assume problems with the DBWR/LGWR, since they give more
           details on their activity.</td></tr>
   <tr><td class="td_name"><code>MK_LGWR</code></td></tr>
   <tr><td class="td_name"><code>MK_RBS</code></td>
       <td class="text">Include Rollback Segment Statistics with the report. This
           is somehow useless if you use automatic undo management (available
           since Oracle release 9)</td></tr>
   <tr><td class="td_name"><code>MK_MEMVAL</code></td>
       <td class="text">This controls the "Memory Values" block which just lists
           all memory areas and their sizes (not the pool statistics - see next
           item)</td></tr>
   <tr><td class="td_name"><code>MK_POOL</code></td>
       <td class="text">The Pool Statistics list the available pool areas with
           their sizes, the free space available at the time the report is
           generated as well as some statistics like cache hit ratios.</td></tr>
   <tr><td class="td_name"><code>MK_BUFFRAT</code></td>
       <td class="text">The "Buffer Wait Ratios" block helps you to identify the
           type of the <code>buffer busy waits</code> (if any) that are listed in
           the "Selected Wait Events" block. You should activate this if you
           encounter many <code>buffer busy waits</code> and want to know what
           tuning actions are reasonable.</td></tr>
   <tr><td class="td_name"><code>MK_SYSSTAT</code></td>
       <td class="text">The "SYSSTAT Info" segment lists up some ratios calculated
           from values of <code>v$sysstat</code> (as the name suggests), such as
           the Chained-Fetch-Ratio and the percentage of disk sorts. Since this
           gives you a general idea of the systems performance, it is recommended
           to enable this segment.</td></tr>
   <tr><td class="td_name"><code>MK_WTEVT</code></td>
       <td class="text">The "Wait Events" segment created when this option is
           enabled displays selected wait events from <code>v$system_event</code>
           together with some descriptions and help. I consider this as one of the
           central segments and thus recommend to enable it.</td></tr>
   <tr><td class="td_name"><code>MK_FLC</code></td>
       <td class="text">The "FreeList Contention" block should help you to
           identify tables having problems with the <code>PCTFREE</code> and
           <code>PCTUSED</code> values. You may try to enable this block if the
           report indicates it may be useful. See the online help on this topic
           for more details.</td></tr>
   <tr><td class="td_name"><code>MK_ENQ</code></td>
       <td class="text">The "Enqueue Waits" block may be useful for closer
           investigation if other results indicate problems concerning enqueues,
           but may not be needed for the daily reports in most cases.</td></tr>
   <tr><td class="td_name"><code>MK_USS</code></td>
       <td class="text" ROWSPAN="2">Except for special occasions, the "Undo Segment Statistics"
           (<code>MK_USSTAT</code>) will not be needed (especially when using
           automatic undo management). The "Undo Segment Summary" table can also
           be turned off, if not needed, with the <code>MK_USS=0</code> statement.</td></tr>
   <tr><td class="td_name"><code>MK_USSTAT</code></td></tr>
   <tr><td class="td_name"><code>MK_INVOBJ</code></td>
       <td class="text">Database objects, such as Views, Stored Procedures,
           Packages etc.pp., can become invalid under certain conditions. While
           this should be no problem for views in most cases (they may recompile
           without problems if the underlying objects are fine), it can be a
           security issue for triggers. This segment lists up all invalid objects
           together with some additional details on them.</td></tr>
   <tr><td class="td_name"><code>MK_TSCAN</code></td>
       <td class="text">In the Miscellaneous segment of the report, we list up
           a summary for the table scans. You may suppress this by setting this
           variable to 0.</td></tr>
   <tr><td class="td_name"><code>MK_NEXT</code></td>
       <td class="text">Also in the Miscellaneous block, we display the Top N
           tables that have less than 10% free blocks left and will need a new
           extent shortly (if there are any). Disable this by setting this variable
           to 0.</td></tr>
   <tr><td class="td_name"><code>MK_RLIMS</code></td>
       <td class="text">With the <code>MK_RLIMS</code> statement you can switch the
           Resource Limits Report on (1) or off (0). If switched off, of course no
           resource limits reports will be generated at all. If set to 1, this
           report segment will be built only if you have resource limits enabled.</td></tr>
   <tr><td class="td_name" align="center" COLSPAN="2">Go4Colors</td></tr>
   <tr><td colspan="2">
     <table align="center" border="0">
      <tr><th class="th_sub2">Parameter</th><th class="th_sub2">Key</th>
          <th class="th_sub2">Warning</th><th class="th_sub2">Alert</th></tr>
      <tr><td class="td_name" colspan="4" align="center">Instance Efficiency</td></tr>
      <tr><td class="td_name">Buffer NoWait</td><td>*_IE_BUFFNW</td><td class="warn">&lt; 80</td><td class="alert">&lt; 60</td></tr>
      <tr><td class="td_name">Redo NoWait</td><td>*_IE_REDONW</td><td class="warn">&lt; 90</td><td class="alert">&lt; 75</td></tr>
      <tr><td class="td_name">Buffer Hit</td><td>*_IE_BUFFHIT</td><td class="warn">&lt; 50</td><td class="alert">&lt; 30</td></tr>
      <tr><td class="td_name">In-Memory Sort</td><td>*_IE_IMSORT</td><td class="warn">&lt; 85</td><td class="alert">&lt; 70</td></tr>
      <tr><td class="td_name">Library Hit</td><td>*_IE_LIBHIT</td><td class="warn">&lt; 80</td><td class="alert">&lt; 60</td></tr>
      <tr><td class="td_name">Soft Parse</td><td>*_IE_SOFTPRS</td><td class="warn">&lt; 80</td><td class="alert">&lt; 60</td></tr>
      <tr><td class="td_name">Parse CPU to ELA</td><td>*_IE_PRSC2E</td><td class="warn">&lt; 80</td><td class="alert">&lt; 60</td></tr>
      <tr><td class="td_name">Latch Hit</td><td>*_IE_LAHIT</td><td class="warn">&lt; 85</td><td class="alert">&lt; 70</td></tr>
      <tr><td class="td_name">Resource Limits</td><td>*_RLIM</td><td class="warn">&lt; 80</td><td class="alert">&lt; 90</td></tr>
      <tr><td class="td_name">Redo Wastage Percentage</td><td>*_RWP</td><td class="warn">&lt; 20</td><td class="alert">&lt; 30</td></tr>
      <tr><td class="td_name" colspan="4" align="center">TOP_N_SQL</td></tr>
      <tr><td class="td_name">FTS in execution plan</td><td>AR_EP_FTS</td><td class="warn"></td><td class="alert">Cost &gt; 1.000</td></tr>
      <tr><td class="td_name">Seconds per Execution</td><td>*_ET</td><td class="warn">&gt; 3600</td><td class="alert">&gt; 7200</td></tr>
      <tr><td class="td_name" colspan="4" align="center">Datafiles Statistic</td></tr>
      <tr><td class="td_name">Size Change in %/7d</td><td>*_DF_CHNG</td><td class="warn">&gt; 50</td><td class="alert">&gt; 100</td></tr>
      <tr><td class="td_name" colspan="4" align="center">TableSpace &amp; File IO Summary</td></tr>
      <tr><td class="td_name">Avg Blks/Rd<br><font size="-2">measured
              by</font><br><code><font size="-1">DB_FILE_MULTIBLOCK_READ_COUNT</font></code></td>
          <td>*_TS_BLKRD</td><td class="warn">&gt; 80%</td><td class="alert">&gt; 100%</td></tr>
      <tr><td class="td_name">AvgRd (ms)</td><td>*_TS_RD</td><td class="warn">&gt; 50</td><td class="alert">&gt; 80</td></tr>
      <tr><td class="td_name" colspan="4" align="center">Library Cache</td></tr>
      <tr><td class="td_name">PctMiss</td><td>*_LC_MISS</td><td class="warn">&gt; 15</td><td class="alert">&gt; 40</td></tr>
      <tr><td class="td_name">Reloads/GetRequests</td><td>*_LC_RLPRQ</td><td class="warn">&gt; 10</td><td class="alert">&gt; 30</td></tr>
      <tr><td class="td_name">Invalidations/GetRequests</td><td>*_LC_INVPRQ</td><td class="warn">&gt; 10</td><td class="alert">&gt; 20</td></tr>
     </table>
       </td></tr>
  </table>
 </td></tr>
</table>

<DIV ALIGN="center" STYLE="margin-top:5px;color:#fff"><IMG SRC="w3c.jpg" ALT="w3c" WIDTH="14" HEIGHT="14" ALIGN="middle" STYLE="margin-right:3px"><SPAN CLASS="small" STYLE="vertical-align:middle">OraRep &copy; 2003-2005 by <A STYLE="text-decoration:none;color:#ff0;" HREF="http://www.qumran.org/homes/izzy/" TARGET="_blank">Itzchak Rehberg</A> &amp; <A STYLE="text-decoration:none;color:#ff0;" HREF="http://www.izzysoft.de" TARGET="_blank">IzzySoft</A></SPAN><IMG SRC="islogo.gif" ALT="IzzySoft" WIDTH="14" HEIGHT="14" ALIGN="middle" STYLE="margin-left:3px"></DIV>
</body>
</html>
